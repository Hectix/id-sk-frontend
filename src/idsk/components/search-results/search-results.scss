@import "../../../govuk/settings/all";
@import "../../../govuk/tools/all";
@import "../../../govuk/helpers/all";

@include govuk-exports("idsk/component/search-results") {
  .idsk-search-results {
    @include govuk-font($size: 19);

    @include mq($from: desktop) {
      .govuk-grid-column-one-quarter {
        width: 32%;
      }

      .govuk-grid-column-three-quarters {
        width: 68%;
      }
    }
  }

  .idsk-search-results__filter .govuk-select {
    width: 100%;
  }

  .idsk-search-results__filter .govuk-form-group {
    margin-bottom: 0;
    padding-right: govuk-spacing(1);
  }

  .idsk-search-results__content .govuk-grid-column-two-quarters {
    @include govuk-font($size: 19);

    display: inline-flex;
    float: right;
    margin-right: -15px;
  }

  .idsk-search-results__content .govuk-grid-column-two-quarters span {
    padding-top: 9px;
    padding-right: govuk-spacing(1);
    
    @include mq($from: tablet) {
      padding-top: 7px;
    }

    &::before {
      content: "Výsledky na stranu";

      @include mq($from: tablet) {
        content: "Počet výsledkov na stranu";
      }
    }
  }

  .idsk-search-results__per-page {
    width: 100%;

    @include mq($from: tablet) {
      width: 45%;
    }
  }

  .idsk-search-results__filters {
    color: govuk-colour("blue");
    font-size: 24px;
    line-height: 25px;
    font-weight: bold;
    text-decoration: none;
    padding-top: govuk-spacing(1);
    &:focus {
      @include govuk-focused-text;
    }

    @include mq($from: tablet) {
      display: none;
    }
  }

  .idsk-search-results__content .govuk-grid-column-two-quarters .govuk-form-group {
    margin-bottom: govuk-spacing(1);
  }

  .idsk-search-results__content__picked-filters {
    @include govuk-font($size: 19, $weight: bold);

    margin-left: govuk-spacing(3);
    padding-left: 0;
    padding-right: 0;

    @include mq($from: tablet) {
      border-top: 1px solid govuk-colour("black");
      border-bottom: 1px solid govuk-colour("black");
    }
  }

  .idsk-search-results__picked-topic,
  .idsk-search-results__picked-content-type {
    font-weight: normal;
    border: 1px solid black;
    border-radius: 5px;
    padding: govuk-spacing(2) govuk-spacing(1) govuk-spacing(1) govuk-spacing(1);
    margin: govuk-spacing(2);
    display: inline-block;
    cursor: pointer;
  }

  .idsk-search-results__list .govuk-textarea {
    margin-bottom: govuk-spacing(2);
  }

  .idsk-search-results__content__page-changer {
    padding-top: govuk-spacing(3);
    margin-left: govuk-spacing(3);
    border-top: 2px solid govuk-colour("black");
  }

  .idsk-search-results__button--back,
  .idsk-search-results__button--forward {
    @include govuk-font($size: 19);
    position: relative;
    z-index: 1;
    border-width: 0;
    color: govuk-colour("blue");
    background: none;
    cursor: pointer;
    -webkit-appearance: none;
    text-decoration: underline;
    text-align: right;

    @include govuk-link-common;
    @include govuk-link-style-default;
  }

  .idsk-search-results__button--back {
    padding-left: 0;
    margin-bottom: govuk-spacing(2);
    margin-left: -15px;
  }

  .idsk-search-results__button--forward {
    margin-right: -15px;
    padding-right: 0;
    float: right;
    margin-bottom: govuk-spacing(3);
  }

  .idsk-search-results__button__svg--previous {
    padding-right: govuk-spacing(2);
  }

  .idsk-search-results__button__svg--next {
    padding-left: govuk-spacing(2);
  }

  .idsk-search-results__page-number {
    text-align: center;
  }

  .idsk-search-results__content__picked-filters__topics {
    background-color: govuk-colour("grey-4");
    min-height: 40px;
  }

  .idsk-search-results__content__picked-filters__content-type {
    min-height: 40px;
  }

  .idsk-search-results__content__picked-filters__topics span,
  .idsk-search-results__content__picked-filters__content-type span {
    padding-top: govuk-spacing(1);
  }

  .idsk-search-results--hidden {
    visibility: hidden;
  }

  .idsk-search-results__content__results {
    display: none;

    @include mq($from: desktop) {
      @include govuk-font($size: 24, $weight: bold);
      display: block;
    }
  }

  .idsk-search-results__link-panel--span {
    @include govuk-font($size: 14);

    font-size: 14px;
    line-height: 25px;
    padding-right: govuk-spacing(6);
    color: govuk-colour("black");
    float: right;
    padding-top: 0;

    @include mq($from: desktop) {
      padding-right: 0;
      padding-top: govuk-spacing(1);
    }
  }

  .idsk-search-results__date__span {
    @include govuk-font($size: 16);
  }

  .idsk-search-results__date__span__example {
    @include govuk-font($size: 16);

    white-space: nowrap;
    color: govuk-colour("grey-1");
  }

  .idsk-search-results__content.govuk-grid-column-three-quarters {
    padding: 0 govuk-spacing(6) 0 0;

    @include mq($from: tablet) {
      padding: 0 govuk-spacing(3);
    }
  }

  .idsk-search-results__link-panel__title {
    text-decoration: none;
    color: govuk-colour("blue");
    &:focus {
      @include govuk-focused-text;
    }
  }

  .idsk-search-results--invisible {
    display: none;
  }

  .idsk-search-results__link-panel-button {
    @include govuk-font($size: 24, $weight: bold);

    cursor: pointer;
    color: govuk-colour("blue");
    height: inherit;
  }

  .idsk-search-results--expand {
    .idsk-search-results__list {
      margin-bottom: 15px;
      max-height: 300px;
      overflow-y: auto;
      padding-top: 15px;
      transition: all 0.2s ease-in;
    }

    .idsk-search-results__link-panel-button {
      border-bottom: none;
    }

    .idsk-search-results__link-panel-button::before {
      top: 20px;
      transform: rotate(-45deg);
      transition: all 0.2s ease-in;

      @include mq(tablet) {
        top: 25px;
      }
    }
  }

  .idsk-search-results__title {
    display: none;
  }

  .idsk-search-results__link-panel {
    cursor: pointer;
    display: inline-block;
    position: relative;
    width: 100%;
    height: 60px;

    &-button {
      @include govuk-font($size: 19, $weight: bold);

      outline: none;
      background-color: govuk-colour("white");
      border: none;
      text-align: left;
      width: 100%;
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
      border-bottom: 1px solid govuk-colour("mid-grey");

      @include mq(tablet) {
        padding: govuk-spacing(3) 35px govuk-spacing(3) govuk-spacing(1);
      }

      &:disabled {
        .idsk-search-results__link-panel__title {
          color: govuk-colour("grey-2");
          cursor: text;
        }

        &::before {
          color: govuk-colour("grey-2");
        }
      }
    }

    &-button::before {
      border-style: solid;
      border-width: 3px 3px 0 0;
      color: govuk-colour("black");
      content: "";
      display: inline-block;
      height: 0.45em;
      right: 10px;
      position: absolute;
      top: 23px;
      transform: rotate(135deg);
      transition: all 0.2s ease-out;
      vertical-align: top;
      width: 0.45em;

      @include mq(tablet) {
        top: 24px;
      }
    }

    &-button:focus::before {
      color: govuk-colour("black");
    }

    @include mq($from: tablet) {
      height: 65px;
    }
  }

  .idsk-search-results__link {
    text-decoration: underline;

    &-number {
      display: inline-block;
      text-decoration: underline;
    }
    &-number:focus {
      text-decoration: none;
    }
  }

  .idsk-search-results__list {
    background-color: white;
    padding-top: 0;
    padding-left: govuk-spacing(1);
    max-height: 0;
    transition: all 0.2s ease-out;
    overflow-y: hidden;
  }

  .idsk-search-results__list-item--active::before {
    top: 5px;
  }
}
